defmodule CaveTest do
  use ExUnit.Case
  doctest Cave

  test "cave mapper" do
    fast_cave = Cave.new(510, {10, 10})
                |> Cave.cache_erosion({0..15, 0..15})
    assert Cave.map(fast_cave, {0..15, 0..15}) == [
      "M=.|=.|.|=.|=|=.",
      ".|=|=|||..|.=...",
      ".==|....||=..|==",
      "=.|....|.==.|==.",
      "=|..==...=.|==..",
      "=||.=.=||=|=..|=",
      "|.=.===|||..=..|",
      "|..==||=.|==|===",
      ".=..===..=|.|||.",
      ".======|||=|=.|=",
      ".===|=|===T===||",
      "=|||...|==..|=.|",
      "=.=|=.=..=.||==|",
      "||=|=...|==.=|==",
      "|=.=||===.|||===",
      "||.|==.|.|.||=||",
    ]
  end
end
